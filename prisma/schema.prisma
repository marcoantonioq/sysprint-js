generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Users {
  id             Int      @id @default(autoincrement())
  name           String
  username       String
  password       String
  email          String   @unique
  role           String
  adress         String
  status         Boolean  @default(true)
  quota          Int
  month_count    Int
  thumbnailphoto String
  job_count      Int
  modified       DateTime @updatedAt
  created        DateTime @default(now())
  spool          Jobs[]
}

model Printers {
  id           Int      @id @default(autoincrement())
  allow        Boolean  @default(true)
  name         String
  status       Boolean  @default(true)
  month_count  Int      @default(0)
  quota_period Int      @default(0)
  page_limite  Int      @default(0)
  k_limit      Int      @default(0)
  modified     DateTime @updatedAt
  created      DateTime @default(now())
  spool        Jobs[]
}

model Jobs {
  id          Int      @id
  userId      Int
  printersId  Int
  pages       Int
  copies      Int
  host        String
  file        String
  params      String
  status      String
  description String
  modified    DateTime @updatedAt
  created     DateTime @default(now())
  user        Users    @relation(fields: [userId], references: [id])
  Printers    Printers @relation(fields: [printersId], references: [id])
}

model Settings {
  group  String
  key    String
  value  String
  enable Boolean @default(true)

  @@id([group, key], name: "setting")
}

model Loggers {
  id          Int      @id @default(autoincrement())
  title       String
  description String
  level       Int
  created     DateTime @default(now())
}
